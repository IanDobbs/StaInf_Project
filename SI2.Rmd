---
title: "A Basic Inferential Data Analysis - The Effect of Vitamin C on Tooth Growth in Guinea Pigs"
author: "Ian Dobbs"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.cap = TRUE, fig.align = "center",
                      fig.path="figures/", options(scipen=999))
knitr::opts_current$get('label')
```
```{r captioner, message=FALSE, echo=FALSE, results='hide'}
# use captioner to add figure number and caption
library(captioner)
fig_nums <- captioner()
fig_nums("figa", "A scatter plot of the ToothGrowth data: length vs dose, given type of supplement. The red triangles representing the average length at each dose for the given type of supplement.")
```
## Synopsis

The ToothGrowth dataset shows the effect of vitamin C on tooth growth in guinea pigs. The response is the length of odontoblasts (cells responsible for tooth growth) in 60 guinea pigs. Each animal received one of three dose levels of vitamin C (0.5, 1, and 2 mg/day) by one of two delivery methods, orange juice or ascorbic acid (a form of vitamin C and coded as VC). This report will demonstrate that ... summary of findings...

## Summary of the data

Load the data set ToothGrowth and display the structure of the data.

```{r ToothGrowth}
library(datasets)
data(ToothGrowth)
str(ToothGrowth)
```

Reveals a dataset with 60 observations and 3 variables as follows:

* **len** is the numeric tooth length measurement (unit of measurement in unknown)

* **supp** is the delivery method of Vitamin C supplement - orange juice (OJ) or ascorbic acid (VC)

* **dose** is the dosage of the supplement - 0.5 ml/day, 1.0 ml/day or 2.0 ml/day

A plot of the data is shown in Figure 1 below.
```{r toothgrowth, echo=TRUE, fig.cap=fig_nums("figa")}
library(ggplot2)
ggplot(ToothGrowth, aes(x=factor(dose), y=len, fill=factor(dose), color=factor(dose)))+
        geom_point()+
        stat_summary(geom = "point",
                     fun = "mean",
                     col = "black",
                     size = 3,
                     shape = 24,
                     fill = "red")+
        facet_grid(.~supp)+
        labs(x = "Dose", y = "Length")
```

## Hypothesis tests

First need to separate the data by delivery method
```{r dmethod}
# Delivery of Vitamin C by Orange Juice (OJ)
oj <- subset(ToothGrowth, supp == "OJ")

# Delivery of Vitamin C by Ascorbic acid (VC)
vc <- subset(ToothGrowth, supp == "VC")
```

Test the hypothesis that delivering vitamin C via orange juice is associated with more growth than ascorbic acid.
```{r H1}
t.test(oj$len, vc$len, alternative = "greater", var.equal = FALSE)
t.test(vc$len, oj$len, alternative = "less", var.equal = FALSE)
```

Test the hypothesis that there is no statistical difference in tooth growth using either orange juice or ascorbic acid at a dose level of 2 ml/day
```{r H2}
oj.two <- subset(ToothGrowth, ToothGrowth$supp == "OJ" & ToothGrowth$dose == "2")
vc.two <- subset(ToothGrowth, ToothGrowth$supp == "VC" & ToothGrowth$dose == "2")
t.test(oj.two$len, vc.two$len, var.equal = FALSE)
t.test(oj.two$len, vc.two$len, var.equal = FALSE)$conf.int
```

## Conclusions

## Assumptions
1. samples are independent and identically distributed random variables
2. sample size is greater than 30
3. unequal variances
